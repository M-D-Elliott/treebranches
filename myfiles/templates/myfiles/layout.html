{% extends "layout.html" %}
{% load static from staticfiles %}
{% load myFiles_extras %}

{% block title_tag %}My Files | {{ block.super }}{% endblock %}

{% block wrapper_class %}my-projects-wrapper{% endblock %}

{% block stylesheets %}
	{{ block.super }}
	<link rel="stylesheet" href="{% static 'css/my_files/general.css' %}">
	<link rel="stylesheet" href="{% static 'css/my_files/forms.css' %}">
    <link rel="stylesheet" href="{% static 'css/my_files/containers.css' %}">
	<link rel="stylesheet" href="{% static 'css/my_files/icons.css' %}">
	<link rel="stylesheet" href="{% static 'css/my_files/context_menu.css' %}">

{% endblock %}

{% block body_content %}
{% app_serial as serial %}
<div id="my-projects-page" class="my-projects-page" oncontextmenu="return false;">
	<div class="container">
        <div class="row">
            {% if request.user.is_authenticated %}
            <p>{{ user.username|possessive }} projects</p>
            <div id="my_projects_serial" data-serial="{{ serial }}" style="display:none;"></div>
            <div id="username" style="display:none;">{{ user.username }}</div>
            {% with "myProjects://" as current_path %}
            {% block project_contents %}{% endblock %}
            {% endwith %}
            {% endif %}
        </div>
    </div>
    <div style="display: none;" id="hidden">
        {% csrf_token %}
        {% include "myfiles/forms/post_form.html" %}
        {% include "myfiles/forms/put_form.html" %}
        {% include "myfiles/forms/delete_form.html" %}
        {% include "myfiles/forms/rename_form.html" %}
        {% include "myfiles/forms/copy_paste_form.html" %}
        <div class="context-menu-template-wrapper {{ serial }}">
        {% include "myfiles/context_menus/root_context_menu.html" %}
        {% include "myfiles/context_menus/trash_context_menu.html" %}
        {% include "myfiles/context_menus/folder_context_menu.html" %}
        {% include "myfiles/context_menus/file_context_menu.html" %}
        {% include "myfiles/context_menus/in_trash_context_menu.html" %}
        </div>
    </div>
</div>
{% endblock %}

{% block plugins %}
{{ block.super }}
<!--<script src="{% static 'js/my_files/my_projects_min.js' %}"></script>-->
{% include "myfiles/layout_JS.html" %}
{% endblock %}