function Calculator(){this.screen=[],this.buttons=[],this.windowBox=document.createElement('div'),this.windowBox.setAttribute('id','windowBox'),calcTarget.appendChild(this.windowBox),this.buttonBox=document.createElement('div'),this.buttonBox.setAttribute('id','buttonBox'),calcTarget.appendChild(this.buttonBox),this.padButtonFlex=document.createElement('div'),this.padButtonFlex.setAttribute('id','padFlex'),this.buttonBox.appendChild(this.padButtonFlex),this.tallButtonFlex=document.createElement('div'),this.tallButtonFlex.setAttribute('id','tallFlex'),this.buttonBox.appendChild(this.tallButtonFlex),this.customButtonFlex=document.createElement('div'),this.customButtonFlex.setAttribute('id','customFlex'),this.buttonBox.appendChild(this.customButtonFlex)}Calculator.prototype.addWindow=function(a){for(this.screen=a.screen,i=0;i<a.h;i++)this.windowBox.appendChild(this.screen[i])},Calculator.prototype.addButton=function(a){this.buttons.push(a)};function Button(a){this.element=document.createElement('button'),this.element.setAttribute('id',a),this.element.innerText=a,'.'===this.element.id&&(this.element.innerText='Del')}function PadButton(a){Button.call(this,a),this.element.classList.add('padButton'),calculator.padButtonFlex.appendChild(this.element)}function TallButton(a){Button.call(this,a),this.element.classList.add('tallButton'),calculator.tallButtonFlex.appendChild(this.element)}function CustomButton(a){Button.call(this,a),this.element.classList.add('customButton'),calculator.customButtonFlex.appendChild(this.element)}PadButton.prototype=Object.create(Button.prototype),TallButton.prototype=Object.create(Button.prototype),CustomButton.prototype=Object.create(Button.prototype);function Window(a,b){for(this.h=2>a?2:a,this.l=10>b?10:b,this.screen=[],i=0;i<this.h;i++)this.screen[i]=document.createElement('div'),this.screen[i].setAttribute('id','screen'+i),this.screen[i].style.width=5*this.l,this.screen[i].innerHTML='&nbsp;'}Calculator.prototype.inputParser=function(a,b){a.preventDefault(),'Enter'===b?this.pressEnter():'.'===b?this.pressDelete():'CE'===b||'Backspace'===b?this.pressCE():'C'===b?this.pressC():isNaN(b)?this.typeSymbol(b):this.typeNumeral(b)},Calculator.prototype.typeSymbol=function(a){let b=this.screen[0].innerHTML.slice(-1);this.screen[0].innerHTML+=';'===b?`${a}&nbsp;`:`&nbsp;${a}&nbsp;`},Calculator.prototype.typeNumeral=function(a){this.screen[0].innerHTML+=`${a}`},Calculator.prototype.pressEnter=function(){let firstValue=this.screen[0].innerText.slice(1,2);try{isNaN(firstValue)&&'('!=firstValue?(this.screen[0].innerHTML=`&nbsp;undefined`===this.screen[1].innerHTML?`&nbsp;undefined`:'&nbsp;'+eval(this.screen[1].innerText+this.screen[0].innerText),this.screenShift()):'&nbsp;'!=this.screen[0].innerHTML&&(this.screen[0].innerHTML='&nbsp;'+eval(this.screen[0].innerText),this.screenShift())}catch(a){this.screen[0].innerHTML=`&nbsp;undefined`,this.screenShift()}},Calculator.prototype.pressDelete=function(){let a=this.screen[0].innerHTML.slice(-1);0<this.screen[0].innerText.length&&(this.screen[0].innerText=isNaN(a)?this.screen[0].innerText.slice(0,-3):this.screen[0].innerText.slice(0,-1))},Calculator.prototype.pressC=function(){for(i=this.screen.length;0<i;i--)this.screen[i-1].innerHTML='&nbsp;'},Calculator.prototype.pressCE=function(){this.screen[0].innerHTML='&nbsp;'},Calculator.prototype.screenShift=function(){for(i=this.screen.length-1;0<i;i--)this.screen[i].innerHTML=this.screen[i-1].innerHTML;this.screen[0].innerHTML='&nbsp;'},document.addEventListener('click',function(a){'BUTTON'===a.target.tagName&&(buttonPressed=a.target.getAttribute('id'),calculator.inputParser(a,buttonPressed))}),document.addEventListener('keydown',function(a){for(buttonPressed=a.key,i=0;i<calculator.buttons.length;i++)buttonPressed===calculator.buttons[i].element.id&&calculator.inputParser(a,buttonPressed)});const target='calc-target',PadButtons=[';)','/','*','7','8','9','4','5','6','1','2','3','0','.'],TallButtons=['-','+','Enter'],CustomButtons=['(',')','CE','C'];let calcTarget=document.getElementById(target);const pb=PadButtons,tb=TallButtons,cb=CustomButtons;let calculator=new Calculator;for(calculator.addWindow(new Window('4','20')),i=0;i<pb.length;i++)calculator.addButton(new PadButton(pb[i]));for(i=0;i<tb.length;i++)calculator.addButton(new TallButton(tb[i]));for(i=0;i<cb.length;i++)calculator.addButton(new CustomButton(cb[i]));